<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="edu.sm.repository.WishlistRepository">

    <resultMap id="ProductMap" type="edu.sm.dto.Product">
        <id     property="productId"       column="product_id"/>
        <result property="productName"     column="product_name"/>
        <result property="imagePath"       column="image_path"/>
        <result property="transactionStatus" column="transaction_status"/>
        <result property="startingPrice"   column="starting_price"/>
    </resultMap>

    <select id="findWishlist" parameterType="string" resultMap="ProductMap">
        SELECT p.*
        FROM   Wishlist w
                   JOIN   Product  p ON p.product_id = w.product_id
        WHERE  w.user_id = #{userId}
        ORDER  BY p.product_id DESC
    </select>
</mapper>
